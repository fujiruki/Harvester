/* 【PicBaseEmu v0.1の使い方】
 * 2013年6月29日　藤田 晴樹
 *
 * これは、新居浜高専の夏期体験学習で配布されるTVゲームのエミュレータです。
 * あらかじめ準備された変数や関数は、おおかた使えるはずです。
 * 動作には、OpenGL,GLUT,pthreadが必要です。VisualStudioで使えるよう設定しておいてください。（ググる。）
 * pthread はLinux用ですが、pthrerad_w32というライブラリがあるようです。
 * 2013年6月29日現在、Linux上でのみ確認。
 * (Tab幅:4)

【構成】
    main.c    実際に自作のゲームを書くファイル。
              この内容を実機PICにコピペして動作させる。
    main.h    main.cのためのincludeのみ。編集不要。
    emu.h     エミュレータの構成を、#defineを変更して設定が可能。
    emu.cpp   エミュレータの関数の定義がある。【編集不要】
	main_simple.c
	          中身が最もシンプルな、なにもないmain.cのテンプレ。
	main_sample.c
	          色がランダムに切り替わる点を動かして絵を描くプログラム。
			  main.cの基本的な書き方が学べる？
	main_bugpa.c
	          H24年度に藤田晴樹が作ったゲームです。
			  コードは汚くて参考になりません。
	


【大まかな説明】
	編集するのは main.c のみです。
    １．game_main() 関数に、ゲーム自体を書く。
    ２．game_init() に初期化処理をまとめる。
    ３．各宣言、関数をコピペして実機で動作。
    ４．実機上で、処理が詰まって画面が乱れたら
        game_main()の中にdisp_frame()を入れていく。
	*****************************************
	  実機でdisp_frame()にかかる時間をSLEEP_TIME[ms]で調整してください。
	*****************************************

【メインループの構造】
ゲームのメインループの前後は次のようになっています。
    +-----------------------
	|  game_init();			←ユーザーが書く
	|  while (1) {
	|      game_main();		←ユーザーが書く
	|      disp_frame();
	|  }
	+-----------------------

		

【エミュレータの機能の説明】
	+ ESCキーで強制終了（無限ループからは抜けられないかもしれない。）
	+ キーの対応などは emu.h の定数宣言を読む。
	+ pat[y][x]
		pat配列。各セルの描画色を保存している。使い方は実機と同じ。
		色を独自のフォーマットで保存しておき、disp_frame()を呼ぶと描画される。
		フォーマット： GGRRBB--(bin)
	+ disp_frame()
		pat配列の中身を描画する。実機と同じく、描画に時間がかかる。
		disp_frame()にかかる時間は 定数(SLEEP_TIME[ms])で指定できる。
	+ セルの隙間を空けられる。emu.h のdefineを参照。
	+ main_sample.cにfillBox()という関数を用意している。
	+ makefile同梱。
	- 音は未対応。
